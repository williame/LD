<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>LD33 - Will Edwards</title>
<link rel="shortcut icon" href="data/favicon.ico" type='image/x-icon'/>

<!-- https://github.com/williame/LD/33/index.html -->

<style type="text/css">
body { border:0px;margin:0px;padding:0px; background-color: black; color: white; }
.error { float: top; background: yellow; color: red; margin: 2px; padding: 2px; }
#main-canvas { width:100%; height:100%;border:0px;margin:0px;padding:0px; }
</style>

<script type="text/javascript" src="barebones.js/barebones.js"></script>
<script type="text/javascript">
function game() {
	var loader = Waiter(function() {
		window.perf = new Perf(128);
		game.menu = new UIWindow(false,new UIPanel([
				new UILabel("perf"),
				new UICheckbox("show fps",function() { window.perf.window().setVisible(this.isChecked()); }),
				new UICheckbox("640x480", function() {
					if(this.isChecked()) {
						window.fixedWidth = 640; window.fixedHeight = 480;
					} else {
						window.fixedWidth = 0; window.fixedHeight = 0;
					}
					window.onresize();
				}),
			],UILayoutRows));
		game.menu.ctrl.allowClickThru = false;
		game.menu.layout();
		game.menu.show();
		// lets go
		init_render();
		new_game();
	});
	loadFile("javascript","game.js",loader());
}
</script>
<body onload="init(document.getElementById('main-canvas'))">
<div id="errLoading" class="error">Nothing showing?  Hosting glitches for the win!  Please refresh the browser!</div>
<div id="errHttps" class="error" style="display: none;">Sorry, this game needs you to turn off HTTPS-Everywhere for this site :(</div>
<div id="errWebWorkers" class="error" style="display: none;">Sorry, your browser does not support HTML5 web workers</div>
<div id="errWebGL" class="error" style="display: none;">Sorry, could not initialize webGL</div>
<div id="error" class="error" style="display:none; position:absolute;"></div>
<noscript>
<div class="error">Sorry, you don't have Javascript enabled :(</div>
</noscript>
<canvas id="main-canvas" moz-opaque>
<div class="error">Sorry, you don't have webGL enabled :(</div>
</canvas>
</body>
</html>
